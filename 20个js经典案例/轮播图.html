<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        * {
            margin:0;
            padding:0;
            box-sizing:border-box;
        }
        .carousel {
            position:relative;
            width:600px;
            height:350px;
            overflow:hidden;
            margin:50px auto;
            border-radius:10px;
            box-shadow:0 0 10px rgba(0,0,0,0.3);
        }
        .slides {
            width:100%;
            height:100%;
            transition:all 0.3s ease;
        }
        .slides img {
            width:100%;
            height:100%;
            /* object-fit允许指定一个替换元素的内容如何适应
            其使用高度和宽度的定义，cover就是完全覆盖其内容框 */
            object-fit:cover;
        }
        .arrow {
            position:absolute;
            top:50%;
            transform:translateY(-50%);
            background-color: rgba(0,0,0,0.4);
            color:white;
            border:none;
            cursor:pointer;
            font-size:30px;
            padding:5px 10px;
            border-radius:10px;
        }
        .arrow:hover {
            background-color: rgba(0,0,0,0.6);
        }
        .prev {
            left:0;
        }
        .next {
            right:0px;
        }
        .dots {
            position:absolute;
            bottom:15px;
            left:50%;
            transform:translateX(-50%);
            display:flex;
            gap:8px;
        }
        .dot {
            width:12px;
            height:12px;
            border-radius:50%;
            cursor:pointer;
            background-color: rgba(0,0,0,0.5);
        }
        .dot.active {
            background:white;
        }
    </style>
</head>
<body>
    <div class="carousel">
        <div class="slides">
      <img src="https://picsum.photos/id/1015/600/350" alt="">
      <img src="https://picsum.photos/id/1016/600/350" alt="">
      <img src="https://picsum.photos/id/1018/600/350" alt="">
      <img src="https://picsum.photos/id/1020/600/350" alt="">
        </div>
    <button class="arrow prev">&#10094;</button>
    <button class="arrow next">&#10095;</button>
    <div class="dots"></div>
    </div>
    <script>
        const slides = document.querySelector('.slides');
        const prev = document.querySelector('.prev');
        const next = document.querySelector('.next');
        const dots = document.querySelector('.dots');
        const imgs = document.querySelectorAll('.slides img');
        
        //小圆点是动态的，要根据图片的数量来动态生成
        let total = imgs.length;
        let index = 0;//通过index来控制当前显示的图片

        //初始化小圆点
        for(let i=0;i<total;i++) {
            const dot = document.createElement('div');
            dot.classList.add('dot');
            if(i === 0)dot.classList.add('active');//默认选中第一个
            dot.addEventListener('click',() => goToImg(i));
            dots.appendChild(dot);
        }
        const dot = document.querySelectorAll('.dot');

        //切换图片函数
        const showSlide = () => {
            //flex布局默认图片并排显示，所以控制translateX来显示图片
            slides.style.transform = `translateX(-${index * 600}px)`;
            dot.forEach(item => item.classList.remove('active'));
            dot[index].classList.add('active');
        }

        const goToImg = (i) => {
            index = i;
            showSlide();
            //自动播放
            resetAutoPlay();
        }

        const prevSlide = () => {
            index = (index - 1 + total) % total;
            showSlide();
        }

        const nextSlide = () => {
            index = (index + 1 + total) % total;
            showSlide();
        }
        
        prev.addEventListener('click',()=>{prevSlide();resetAutoPlay()});
        next.addEventListener('click',()=>{nextSlide();resetAutoPlay()});

        //自动播放
        let timer = setInterval(()=>{nextSlide()},3000);
        resetAutoPlay = () => {
            clearInterval(timer);
            timer = setInterval(()=>{nextSlide()},3000);
        }
    </script>
</body>
</html>