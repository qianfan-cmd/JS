<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>çŒ«çœ¼ç”µå½±é€‰åº§ç¤ºä¾‹</title>
  <style>
    body {
      font-family: 'Microsoft YaHei', sans-serif;
      background-color: #f7f7f7;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 20px;
    }

    h1 {
      margin-bottom: 10px;
    }

    .screen {
      width: 300px;
      height: 30px;
      background: linear-gradient(to bottom, #ccc, #999);
      text-align: center;
      line-height: 30px;
      color: #333;
      border-radius: 5px;
      margin-bottom: 20px;
    }

    .seats {
      display: grid;
      grid-template-columns: repeat(6, 40px);
      gap: 10px;
    }

    .seat {
      width: 40px;
      height: 40px;
      border-radius: 6px;
      background-color: #ccc;
      cursor: pointer;
      transition: all 0.2s ease;
      text-align: center;
      line-height: 40px;
      font-size: 14px;
      user-select: none;
    }

    .seat:hover {
      background-color: #b0b0b0;
    }

    .seat.selected {
      background-color: #4caf50;
      color: white;
    }

    .seat.sold {
      background-color: #e74c3c;
      cursor: not-allowed;
      color: white;
    }

    .info {
      margin-top: 20px;
      text-align: center;
      font-size: 16px;
    }

    .btn {
      margin-top: 20px;
      padding: 8px 16px;
      background-color: #ff4747;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }

    .btn:hover {
      background-color: #ff2727;
    }
  </style>
</head>
<body>
  <h1>ğŸ¬ çŒ«çœ¼ç”µå½±é€‰åº§ç³»ç»Ÿ</h1>

  <div class="screen">é“¶å¹•</div>

  <!-- ç”¨äºå­˜æ”¾åº§ä½çš„div -->
  <div class="seats" id="seatArea"></div>

  <div class="info" id="info">
    å·²é€‰åº§ä½ï¼š<span id="selectedSeats">æ— </span><br>
    æ€»ä»·ï¼š<span id="totalPrice">0</span> å…ƒ
  </div>

  <button class="btn" id="confirmBtn">ç¡®è®¤é€‰åº§</button>

  <script>
    const seatArea = document.getElementById('seatArea');
    // åº§ä½æ•°ç»„
    const selectedSeatsText = document.getElementById('selectedSeats');
    const totalPriceText = document.getElementById('totalPrice');
    const confirmBtn = document.getElementById('confirmBtn');

    const rows = 5;
    const cols = 6;
    const pricePerSeat = 45;

    let selectedSeats = [];// å·²é€‰åº§ä½æ•°ç»„
    const soldSeats = ['2-3', '3-2', '4-5'];//å·²å”®åº§ä½

    //åˆå§‹åŒ–åº§ä½
    for(let row = 1; row <=rows; row++) {
        for(let col = 1; col <= cols; col++) {
            //ç”¨divæ¥è¡¨ç¤ºåº§ä½ï¼Œç»™å…¶æ·»åŠ å±æ€§ï¼Œç„¶åæ ‡è®°ä½ç½®
            //classListè¿”å›çš„æ˜¯ä¸€ä¸ªå…ƒç´ çš„ç±»ååˆ—è¡¨ï¼Œ.add()æ–¹æ³•å¯ä»¥ç»™å…ƒç´ æ·»åŠ ç±»å
            //datasetå±æ€§å¯ä»¥ç”¨æ¥å­˜å‚¨è‡ªå®šä¹‰æ•°æ®
            const seat = document.createElement('div');
            seat.classList.add('seat');
            seat.dataset.seat = `${row}-${col}`;
            seat.textContent = `${row}-${col}`;

            if(soldSeats.includes(`${row}-${col}`)) {
                seat.classList.add('sold');
            }

            seat.addEventListener('click',()=>{
                if(seat.classList.contains('sold')) {
                    //containsæ–¹æ³•æ£€æŸ¥classListæ˜¯å¦åŒ…å«æŸä¸ªç±»å
                    return;
                }

                //toggleæ–¹æ³•çš„æ„æ€æ˜¯å¦‚æœåŒ…å«è¯¥ç±»ååˆ™åˆ é™¤ï¼Œå¦åˆ™æ·»åŠ 
                seat.classList.toggle('selected');
                const seatId = seat.dataset.seat;

                if(seat.classList.contains('selected')) {
                    selectedSeats.push(seatId);
                } else {
                    selectedSeats = selectedSeats.filter(s => s!== seatId);
                }
                updateInfo();
            });

            seatArea.appendChild(seat);
        }
    }

    const updateInfo = () => {
        selectedSeatsText.textContent = selectedSeats.length > 0 ? selectedSeats.join('ï¼Œ') : 'æ— ';
        totalPriceText.textContent = selectedSeats.length * pricePerSreats;
    }

// ç‚¹å‡»ç¡®è®¤æŒ‰é’®
    confirmBtn.addEventListener('click', () => {
        console.log(selectedSeats.length);
      if (selectedSeats.length === 0) {
        alert('è¯·å…ˆé€‰æ‹©åº§ä½ï¼');
      } else {
        alert(`æ‚¨å·²æˆåŠŸé€‰æ‹©åº§ä½ï¼š${selectedSeats.join(', ')}\næ€»ä»·ï¼š${selectedSeats.length * pricePerSeat} å…ƒ`);
      }
    });
     
  </script>
</body>
</html>
